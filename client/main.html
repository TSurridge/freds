<head>
    <title>Worlds</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>

    <header>
        {{> header}}
    </header>

    <main>
        {{> display}}
    </main>

    <footer>
        {{> footer}}
    </footer>

</body>

<template name="header">
    <nav class="light-blue darken-4">
        <div class="nav-wrapper">
            <div class="container">
                <span id="titleText" class="brand-logo">Tuesday Night Worlds</span>
                <ul class="right hide-on-med-and-down">
                </ul>
            </div>
        </div>
    </nav>
</template>

<template name="display">
    {{#if currentUser}} {{> leaderboards}} {{else}}
    <div class="container">
        <div class="login">
            {{> atForm}}
        </div>
    </div>
    {{/if}}
</template>

<template name="leaderboards">
    <div class="inputContainer">
        <div class="container">
            <form class="col s12 m4 l8">
                <div class="row">
                    <div class="input-field col s12">
                        <input placeholder="Ex. 539670567 or https://www.strava.com/activities/539670567" type="text" name="activityInput" autocomplete="off">
                    </div>
                </div>
                <div class="row center-align">
                    <button class="waves-effect waves-light btn" type="submit">Submit</button>
                </div>
            </form>
        </div>
        <div class="container">
            <h2 class="center-align">{{getActivityTitle}}</h2>
        </div>
    </div>
    <div class="leaderboardsContainer">
        <div class="container">
            <div class="row">
                <div class="col s12 m6 l4">
                    <ul class="collection with-header z-depth-1">
                        <li class="collection-header">
                            <h4>Max Speed</h4></li>
                        {{#each get_max_speeds}}
                        <li class="collection-item">
                            <div>{{plusOne @index}}. {{name}} <a href={{stravaURL}} class="secondary-content" target="_blank">{{max_speed}}</a></div>
                        </li>
                        {{/each}}
                    </ul>
                </div>
                <div class="col s12 m6 l4">
                    <ul class="collection with-header z-depth-1">
                        <li class="collection-header">
                            <h4>Max Power</h4></li>
                        {{#each get_max_watts}}
                        <li class="collection-item">
                            <div>{{plusOne @index}}. {{name}} <a href={{stravaURL}} class="secondary-content" target="_blank">{{max_watt}}</a></div>
                        </li>
                        {{/each}}
                    </ul>
                </div>
                <div class="col s12 m6 l4">
                    <ul class="collection with-header z-depth-1">
                        <li class="collection-header">
                            <h4>Avg Heartrate</h4></li>
                        {{#each get_average_heartrates}}
                        <li class="collection-item">
                            <div>{{plusOne @index}}. {{name}} <a href={{stravaURL}} class="secondary-content" target="_blank">{{average_heartrate}}</a></div>
                        </li>
                        {{/each}}
                    </ul>
                </div>
                <div class="col s12 m6 l4">
                    <ul class="collection with-header z-depth-1">
                        <li class="collection-header">
                            <h4>Max Heartrate</h4></li>
                        {{#each get_max_heartrates}}
                        <li class="collection-item">
                            <div>{{plusOne @index}}. {{name}} <a href={{stravaURL}} class="secondary-content" target="_blank">{{max_heartrate}}</a></div>
                        </li>
                        {{/each}}
                    </ul>
                </div>
                <div class="col s12 m6 l4">
                    <ul class="collection with-header z-depth-1">
                        <li class="collection-header">
                            <h4>Most Kudos</h4></li>
                        {{#each get_kudos_counts}}
                        <li class="collection-item">
                            <div>{{plusOne @index}}. {{name}} <a href={{stravaURL}} class="secondary-content" target="_blank">{{kudos_count}}</a></div>
                        </li>
                        {{/each}}
                    </ul>
                </div>
                <div class="col s12 m6 l4">
                    <ul class="collection with-header z-depth-1">
                        <li class="collection-header">
                            <h4>Most Comments</h4></li>
                        {{#each get_comment_counts}}
                        <li class="collection-item">
                            <div>{{plusOne @index}}. {{name}} <a href={{stravaURL}} class="secondary-content" target="_blank">{{comment_count}}</a></div>
                        </li>
                        {{/each}}
                    </ul>
                </div>
                <div class="col s12 m6 l4">
                    <ul class="collection with-header z-depth-1">
                        <li class="collection-header">
                            <h4>Most Photos</h4></li>
                        {{#each get_photo_counts}}
                        <li class="collection-item">
                            <div>{{plusOne @index}}. {{name}} <a href={{stravaURL}} class="secondary-content" target="_blank">{{photo_count}}</a></div>
                        </li>
                        {{/each}}
                    </ul>
                </div>
                <div class="col s12 m6 l4">
                    <ul class="collection with-header z-depth-1">
                        <li class="collection-header">
                            <h4>Avg Cadence</h4></li>
                        {{#each get_average_cadences}}
                        <li class="collection-item">
                            <div>{{plusOne @index}}. {{name}} <a href={{stravaURL}} class="secondary-content" target="_blank">{{average_cadence}}</a></div>
                        </li>
                        {{/each}}
                    </ul>
                </div>
                <div class="col s12 m6 l4">
                    <ul class="collection with-header z-depth-1">
                        <li class="collection-header">
                            <h4>Avg Watts</h4></li>
                        {{#each get_average_watts}}
                        <li class="collection-item">
                            <div>{{plusOne @index}}. {{name}} <a href={{stravaURL}} class="secondary-content" target="_blank">{{average_watt}}</a></div>
                        </li>
                        {{/each}}
                    </ul>
                </div>
                <div class="col s12 m6 l4">
                    <ul class="collection with-header z-depth-1">
                        <li class="collection-header">
                            <h4>Suffer Score</h4></li>
                        {{#each get_suffer_scores}}
                        <li class="collection-item">
                            <div>{{plusOne @index}}. {{name}} <a href={{stravaURL}} class="secondary-content" target="_blank">{{suffer_score}}</a></div>
                        </li>
                        {{/each}}
                    </ul>
                </div>
                <div class="col s12 m6 l4">
                    <ul class="collection with-header z-depth-1">
                        <li class="collection-header">
                            <h4>Kilojoules</h4></li>
                        {{#each get_kilojoules}}
                        <li class="collection-item">
                            <div>{{plusOne @index}}. {{name}} <a href={{stravaURL}} class="secondary-content" target="_blank">{{kilojoule}}</a></div>
                        </li>
                        {{/each}}
                    </ul>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="footer">
    <footer class="page-footer light-blue darken-4">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="white-text">Leaderboards for your group ride</h5>
                    <p class="grey-text text-lighten-4">Made possible with Strava</p>
                </div>
                <div class="col l4 offset-l2 s12">
                    <h5 class="white-text">Contact</h5>
                    <ul class="contactList">
                        <li><a id="twitter-button" class="btn" title="twitter" href="https://twitter.com/ethancfann"><i></i><span class="label"><b>Twitter</b></span></a></li>
                        <li><a id="trello-button" class="btn" title="trello" href="https://trello.com/b/PjgFX31P"><i></i><span class="label"><b>Trello</b></span></a></li>
                        <li><a id="github-button" class="btn" title="github" href="https://github.com/ethanfann/group-ride-leaderboards"><i></i><span class="label"><b>Github</b></span></a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                Â© 2016 Ethan Fann
            </div>
        </div>
    </footer>
</template>
